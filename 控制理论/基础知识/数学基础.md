---
title: 数学基础
created: 2025-11-29 10:21:22
updated: 2025-12-01 10:44:55
---
## 仿射与非仿射系统 affine/nonaffine 

- **仿射系统**：系统的输入为线性
	例：对于一个非线性系统 $\dot{x}\left( t\right) = f\left( {x\left( t\right) }\right)  + g\left( {x\left( t\right) }\right) u\left( t\right)$ 为非线性仿射系统
---
## 随机控制系统的SDE（随机微分方程）表示

$$
 dx(t) = f (x(t)) + g(x(t))u(t) dt + \sigma dW (t) 
$$

其中$W(t)$为维纳过程/n维布朗运动，$\sigma$为噪声强度（常数或矩阵）

---
## Lipschitz连续

函数$f$在区间$Q$上以常数$L$ Lipschitz连续的充要条件为

$$
|| f ( x ) - f ( y ) || \leq L | | x - y ||, \forall x,y \in Q
$$

（一般取L2范数）

$L$称为Lipschitz常数

---
## $\mathcal{K}$类函数

函数$\alpha :[0,a) \longrightarrow [0:\infty), a>0 或 a = \infty$满足

- 连续
- 严格单增
- $\alpha(0) = 0$

### $\mathcal{K}_{\infty}$类函数

在$\mathcal{K}$类函数基础上有：

- $a = \infty$
- $\lim_{x \rightarrow \infty} \alpha (x) = \infty$

---
## 李雅普诺夫函数（Lyapunov Function）

考虑非线性系统：

$$
\dot{x} = f(x), \quad x \in \mathbb{R}^n
$$

其中 $x=0$ 为平衡点。

函数 $V: \mathbb{R}^n \to \mathbb{R}$ 称为 **李雅普诺夫函数**，如果满足：

1. **正定性**：
$$
V(0) = 0, \quad V(x) > 0 \quad \forall x \neq 0
$$

2. **导数负定或半负定**（沿系统轨迹的 Lie 导数）：
$$
\dot{V}(x) = \nabla V(x) \cdot f(x) \le 0
$$

- 若 $\dot{V}(x) < 0$ 对所有 $x \neq 0$，则平衡点渐近稳定。  
- 若 $\dot{V}(x) \le 0$，则平衡点李雅普诺夫稳定（状态不会远离平衡点）。

- $V(x)$ 类似“系统能量”，衡量状态偏离平衡点的大小。  
- $\dot{V}(x)$ 表示沿系统轨迹能量的变化率。  
- $\dot{V} \le 0$ → 能量不增加，系统不发散。  
---
## Lie 导数

设有：

- 光滑函数 $h : \mathbb{R}^n \to \mathbb{R}$
- 向量场 $f : \mathbb{R}^n \to \mathbb{R}^n$

**$h$沿着$f$的Lie 导数** $L_f h(x)$ 定义为：

$$
L_f h(x) = \frac{d}{dt} h\big(x(t)\big) \Big|_{t=0} = \nabla h(x) \cdot f(x)
$$

其中：

- $x(t)$ 是沿向量场 $f$ 的轨迹
- $\nabla h(x)$ 是 $h$ 的梯度向量

**分量形式：**

$$
L_f h(x) = \sum_{i=1}^n f_i(x) \frac{\partial h}{\partial x_i}(x)
$$

**高阶 Lie 导数：**

$$
L_f^k h = L_f \big( L_f^{k-1} h \big), \quad k = 2,3,\dots
$$


---
## 克罗内克（Kronecker）积

给定两个矩阵 $A \in \mathbb{R}^{m \times n}$ 和$B \in \mathbb{R}^{p \times q}$，它们的 Kronecker 积$A \otimes B$ 定义为将矩阵$A$的每个元素乘上矩阵$B$后所得到的矩阵，如下：

$$
A \otimes B =

\begin{bmatrix}
a_{11}B & a_{12}B & \cdots & a_{1n}B \\
a_{21}B & a_{22}B & \cdots & a_{2n}B \\
\vdots & \vdots & \ddots & \vdots \\
a_{m1}B & a_{m2}B & \cdots & a_{mn}B
\end{bmatrix},
$$

___
## Jacobian矩阵

对于函数

$$
\mathbf{f}:\mathbb{R}^n \longrightarrow \mathbb{R}^m, \begin{align*}
\mathbf{f}(x) = 
\begin{bmatrix} 
f_1(x_1, \ldots, x_n) \\ 
f_2(x_1, \ldots, x_n) \\ 
\vdots \\
f_m(x_1, \ldots, x_n) 
\end{bmatrix}
\end{align*}
$$

其Jacobian矩阵为一$m \times n$矩阵

$$
\mathcal{J}_{\mathbf{f}}(x) = 
\begin{align*}
\begin{bmatrix}
\frac{\partial f_1}{\partial x_1} & \frac{\partial f_1}{\partial x_2} & \cdots & \frac{\partial f_1}{\partial x_n} \\
\frac{\partial f_2}{\partial x_1} & \frac{\partial f_2}{\partial x_2} & \cdots & \frac{\partial f_2}{\partial x_n} \\
\vdots & \vdots & \ddots & \vdots \\
\frac{\partial f_m}{\partial x_1} & \frac{\partial f_m}{\partial x_2} & \cdots & \frac{\partial f_m}{\partial x_n}
\end{bmatrix}
\end{align*}
$$

---
## Hessian矩阵

对于函数

$$
\begin{align*}
f : \mathbb{R}^n \to \mathbb{R}, \quad f(x_1, x_2, \ldots, x_n)
\end{align*}
$$

其Hessian矩阵定义为

$$
\begin{align*}
\mathcal{H}_f(x) = 
\begin{bmatrix}
\frac{\partial^2 f}{\partial x_1^2} & \frac{\partial^2 f}{\partial x_1 \partial x_2} & \cdots & \frac{\partial^2 f}{\partial x_1 \partial x_n} \\
\frac{\partial^2 f}{\partial x_2 \partial x_1} & \frac{\partial^2 f}{\partial x_2^2} & \cdots & \frac{\partial^2 f}{\partial x_2 \partial x_n} \\
\vdots & \vdots & \ddots & \vdots \\
\frac{\partial^2 f}{\partial x_n \partial x_1} & \frac{\partial^2 f}{\partial x_n \partial x_2} & \cdots & \frac{\partial^2 f}{\partial x_n^2}
\end{bmatrix}
\end{align*}
$$

Hessian 矩阵主要用来研究函数的**曲率性质**和**极值判定**：

- 如果在某点 Hessian **正定** → $f$在该点有 **局部极小值**。
- 如果 Hessian **负定** → $f$ 在该点有 **局部极大值**。
- 如果 Hessian **不定** → 该点是 **鞍点**。
---

## 控制障碍函数 Control Barrier Function
### 基本概念

对于系统 $\dot x = f(x) + g(x)u$，期望系统状态$x(t)$保持在**安全集$\mathcal{C}$**内

$$
\mathcal{C} = \{ x \in \mathcal{X} \subset \mathbb{R}^n : h(x) \geq 0 \}
$$

- 其中$h(x)$即为CBF
- 要求$x(0) \in \mathcal{C}$，且通过合理控制系统输入$u(t)$，使$x(t)$始终保持在$\mathcal{C}$内（确保$\mathcal{C}$的前向不变性）
---
### 对CBF的约束条件
#### 非线性仿射非随机系统

$\dot x = f(x) + g(x)u$（$f$与$g$在局部Lipschitz连续），约束条件为：

$$
\begin{align*}
\sup_{u \in \mathbb{U}} \left[ \mathcal{L}_f h(x) + \mathcal{L}_g h(x) u + \kappa \left( h(x) \right) \right] \geq 0
\end{align*}
$$
- $\mathcal{L}_f h(x) =  \frac{\partial h}{\partial x} f(x)$和$\mathcal{L}_g h(x) = \frac{\partial h}{\partial x} g(x)$为李导数
- $\mathcal{L}_f h(x) + \mathcal{L}_g h(x) u$记作$\dot h$
- $\kappa$为一 **$\mathcal{K}$类函数**，即对于$\kappa :[0,a) \longrightarrow [0:\infty), a>0 或 a = \infty$满足
	- 连续
	- 严格单增
	- $\kappa(0) = 0$

对于任意Lipschitz连续的映射$u = \mu(x)$ , $\mu : \mathcal{X} \subseteq \mathbb{R^n} \longrightarrow \mathbb{R^m}$，只要满足上述约束，就能在$x(0) \in \mathcal{C}$的前提下确保$x(t) \in \mathcal{C}, \forall t > 0$（即$\mathcal{C}$的前向不变性）

#### 引理：对于非线性随机系统

$dx(t) = f (x(t)) + g(x(t))u(t) dt + \sigma dW(t)$，约束条件为：

$$
\sup_{u \in U} \left[ \mathcal{L}_f h(x) + \mathcal{L}_g h(x) u + \frac{1}{2} \text{tr} \left( \sigma^{\top} \frac{\partial^2 h(x)}{\partial x^2} \sigma \right) + \kappa \left( h(x) \right) \right] \geq 0.
$$



